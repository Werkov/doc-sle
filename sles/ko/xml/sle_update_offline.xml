<?xml version="1.0" encoding="UTF-8"?>
<chapter xmlns="http://docbook.org/ns/docbook" xmlns:xi="http://www.w3.org/2001/XInclude" xmlns:xlink="http://www.w3.org/1999/xlink" xml:base="sle_update_offline.xml" version="5.0" xml:id="cha.update.offline">
 <title>오프라인 업그레이드</title>
 <info>
  <dm:docmanager xmlns:dm="urn:x-suse:ns:docmanager">
   <dm:bugtracker/>
   <dm:translation>예</dm:translation>
  </dm:docmanager>
  <abstract>
   <para>
    이 장에서는 매체에서 부팅되는 YaST를 사용하여 기존 SUSE Linux Enterprise 설치를 업그레이드하는 방법을 설명합니다. 예를 들어 DVD에서, 네트워크를 통해 또는 시스템이 있는 하드 디스크에서 YaST 설치 프로그램을 시작할 수 있습니다.
   </para>
  </abstract>
 </info>
 <sect1 xml:id="sec.update.offline.conceptual-overview">
  <title>개념 개요</title>
  <para>
   시스템을 업그레이드하기 전에 먼저 <xref linkend="sec.update.prep"/>를 읽으십시오.
  </para>
  <para>
   시스템을 업그레이드하려면 새로 설치할 때처럼 설치 원본에서 부팅합니다. 그러나 부팅 화면이 나타나면 <guimenu>설치</guimenu> 대신 <guimenu>업그레이드</guimenu>를 선택해야 합니다. 다음에서 업그레이드를 시작할 수 있습니다.
  </para>

  <itemizedlist>
   <listitem>
    <formalpara>
     <title>이동식 미디어</title>
     <para>
      CD, DVD 또는 USB 대용량 장치 같은 미디어를 들 수 있습니다. 자세한 내용은 <xref linkend="sec.update.offline.dvd"/>을 참조하십시오.
     </para>
    </formalpara>
   </listitem>
   <listitem>
    <formalpara>
     <title>네트워크 리소스</title>
     <para>
      로컬 미디어에서 부팅한 다음 해당하는 네트워크 설치 유형을 선택하거나 PXE를 통해 부팅할 수 있습니다. 자세한 내용은 <xref linkend="sec.update.offline.network"/>을 참조하십시오.
     </para>
    </formalpara>
   </listitem>
  </itemizedlist>
 </sect1>


 <sect1 xml:id="sec.update.offline.dvd">
  <title>설치 미디어에서 업그레이드 시작</title>
  <para>
   아래 절차에서는 DVD에서 부팅하는 방법을 설명하지만 USB 대용량 저장 장치의 ISO 이미지와 같은 다른 로컬 설치 미디어를 사용할 수도 있습니다. 시스템 아키텍처와 시스템에 기존 BIOS 또는 UEFI 중 무엇이 있는지에 따라 미디어와 부팅 방법을 선택합니다.
  </para>
  <procedure xml:id="pro.update.sle12.offline.dvd">
   <title>SLE 11 SP4에서 SLE 12 SP5로 수동 업그레이드</title>
   <step>
    <para>
     부팅 미디어를 선택하고 준비합니다(<xref linkend="sec.i.yast2.startup"/> 참조).
    </para>
   </step>
   <step>
    <para>
     SUSE Linux Enterprise 12 SP5 설치 미디어의 DVD 1을 삽입하고 시스템을 부팅합니다. <guimenu>시작</guimenu> 화면이 표시된 다음 부팅 화면이 표시됩니다.
    </para>
   </step>
   <step>
    <para>
     [부팅] 메뉴에서 <emphasis>업그레이드</emphasis>를 선택하여 시스템을 시작합니다.
    </para>
   </step>
   <step>
    <para>
     <xref linkend="sec.update.sle12.start.upgr.after.boot"/>에 설명된 대로 업그레이드 프로세스를 계속합니다.
    </para>
   </step>
  </procedure>
 </sect1>

 <sect1 xml:id="sec.update.offline.network">
  <title>네트워크 원본에서 업그레이드 시작</title>
  <para>
   네트워크 설치 소스에서 업그레이드를 시작하려면 다음 요구사항을 충족해야 합니다.
  </para>
  <variablelist>
   <title>네트워크 설치 원본에서 업그레이드에 대한 요구사항</title>
   <varlistentry>
    <term>네트워크 설치 원본</term>
    <listitem>
     <para>
      <xref linkend="cha.deployment.instserver"/>에 따라 설정된 네트워크 설치 원본이 설정됩니다.
     </para>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term>네트워크 연결 및 네트워크 서비스</term>
    <listitem>
     <para>
      설치 서버와 대상 시스템 모두에서 네트워크 연결이 작동 중이어야 합니다. 필요한 네트워크 서비스는 다음과 같습니다.
     </para>
     <itemizedlist>
      <listitem><para>도메인 네임 서비스</para></listitem>
      <listitem><para>DHCP(PXE를 통한 부팅에만 필요, IP는 설정 중 수동으로 설정할 수 있음)</para></listitem>
      <listitem><para>OpenSLP(선택 사항)</para></listitem>
     </itemizedlist>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term>부팅 미디어</term>
    <listitem>
     <para>
      <phrase role="productname"><phrase os="sles">SUSE Linux Enterprise Server</phrase></phrase> DVD 1(또는 로컬 ISO 이미지)이 준비되어 있어야만 대상 시스템 <emphasis>또는</emphasis> <xref linkend="sec.deployment.prep_boot.pxeprep" xrefstyle="HeadingOnPage"/>에 따라 PXE를 통해 부팅하도록 설정된 대상 시스템을 부팅할 수 있습니다. 원격 서버에서 업그레이드 시작에 대한 자세한 내용은 <xref linkend="cha.deployment.remoteinst"/> 항목을 참조하십시오.
     </para>
    </listitem>
   </varlistentry>
  </variablelist>
  <sect2 xml:id="sec.update.sle.manual.network.boot-from-dvd">
   <title>네트워크 설치 원본을 통해 수동 업그레이드 - DVD에서 부팅</title>
   <para>
    이 절차에서는 DVD에서 부팅하는 방법을 예를 들어 설명하지만 USB 대용량 저장 장치의 ISO 이미지와 같은 다른 로컬 설치 미디어를 사용해도 됩니다. 부팅 방법을 선택하고 미디어에서 시스템을 시작하는 방법은 시스템 아키텍처와 시스템에서 기존 BIOS 또는 UEFI를 사용하는지 여부에 따라 다릅니다. 자세한 내용은 아래 링크를 참조하십시오.
   </para>
   <procedure xml:id="pro.update.sle.manual.network.boot-from-dvd">

    <step>
     <para>
      SUSE Linux Enterprise 12 SP5 설치 미디어의 DVD 1을 삽입하고 시스템을 부팅합니다. <guimenu>시작</guimenu> 화면이 표시된 다음 부팅 화면이 표시됩니다.
     </para>
    </step>
    <step>
     <para>
      사용할 네트워크 설치 원본 유형을 선택합니다(FTP, HTTP, NFS, SMB 또는 SLP). 일반적으로 <keycap>F4</keycap> 키를 눌러 선택하지만 시스템에 기존 BIOS 대신 UEFI가 포함된 경우 부팅 파라미터를 수동으로 조정해야 합니다. 자세한 내용은 <xref linkend="cha.inst"/>의 <xref linkend="sec.i.yast2.source.net"/>을(를) 참조하십시오.
     </para>
    </step>
    <step>
     <para>
      <xref linkend="sec.update.sle12.start.upgr.after.boot"/>에 설명된 대로 업그레이드 프로세스를 계속합니다.
     </para>
    </step>
   </procedure>
  </sect2>
  <sect2 xml:id="sec.update.sle.manual.network.pxe-boot">
   <title>네트워크 설치 원본을 통해 수동 업그레이드 - PXE를 통해 부팅</title>
   <para>
    PXE 부팅을 사용하여 네트워크 설치 원본에서 업그레이드하려면 다음과 같이 하십시오.
   </para>
   <procedure xml:id="pro.update.sle.manual.network.pxe-boot">
    <step>
     <para>
      DHCP 서버의 설정을 조정하여 PXE를 통한 부팅에 필요한 주소 정보를 제공합니다. 자세한 내용은 <xref linkend="sec.deployment.prep_boot.pxeprep"/>을 참조하십시오.
     </para>
    </step>
    <step>
     <para>
      PXE를 통한 부팅에 필요한 부팅 이미지를 저장하도록 TFTP 서버를 설정합니다. 이를 위해 SUSE Linux Enterprise 12 SP5 설치 미디어의 DVD 1을 사용하거나 <xref linkend="sec.deployment.prep_boot.tftp"/>의 지침을 따르십시오.
     </para>
    </step>
    <step>
     <para>
      대상 시스템에서 PXE 부팅 및 Wake-on-LAN을 준비합니다.
     </para>
    </step>
    <step>
     <para>
      대상 시스템의 부팅을 시작하고 VNC를 사용하여 이 시스템에서 실행 중인 설치 루틴에 원격으로 연결합니다. 자세한 내용은 <xref linkend="sec.deployment.remoteinst.monitor.vnc"/>을 참조하십시오.
     </para>
    </step>
    <step>
     <para>
      <xref linkend="sec.update.sle12.start.upgr.after.boot"/>에 설명된 대로 업그레이드 프로세스를 계속합니다.
     </para>
    </step>
   </procedure>
  </sect2>
 </sect1>

 <sect1 xml:id="sec.update.offline.automated">
  <title>자동 업그레이드 활성화</title>
  <para>
   업그레이드 프로세스를 자동으로 실행할 수 있습니다. 자동 업데이트를 활성화하려면 커널 파라미터 <literal>autoupgrade=1</literal>을 반드시 설정하십시오. 이 파라미터는 부팅 시 <literal>부팅 옵션</literal> 필드에서 설정할 수 있습니다. 자세한 내용은 <link xlink:href="https://www.suse.com/documentation/sles-12/book_autoyast/data/introduction.html"/>을 참조하십시오.
  </para>
 </sect1>
 <sect1 xml:id="sec.update.sle12.start.upgr.after.boot">
  <title>SUSE Linux Enterprise 업그레이드</title>
  <para>
   <remark>taroth 2014-11-13: argh, the following is terminology hell regarding
     the software strings: "upgrade"/"update" are used intermittently and
     without clear differentiation...</remark>
  </para>
  <para>
   시스템을 업그레이드하기 전에 먼저 <xref linkend="sec.update.prep"/>를 읽어 보십시오. 자동 마이그레이션을 수행하려면 다음 단계를 수행하십시오.
  </para>
  <procedure>
   <step>
    <para>
     설치 미디어 또는 네트워크를 통해 부팅한 후 부팅 화면에서 <guimenu>업그레이드</guimenu> 항목을 선택합니다. 다음 단계에서 설명하는 대로 수동으로 업그레이드하려면 자동 업그레이드 프로세스를 비활성화해야 합니다. <xref linkend="sec.update.offline.automated"/>를 참조하십시오.
    </para>
    <warning>
     <title>잘못 선택하면 데이터가 손실될 수 있음</title>
     <para>
      <guimenu>업그레이드</guimenu> 대신 <guimenu>설치</guimenu>를 선택하면 나중에 데이터가 손실될 수 있습니다. 새로 설치하는 동안 데이터 파티션을 제거하지 않으려면 신중을 기해야 합니다.
     </para>
     <para>
      여기서는 <guimenu>업그레이드</guimenu>를 선택해야 합니다.
     </para>
    </warning>
    <para>
     설치 시스템이 시작됩니다.
    </para>
   </step>
   <step>
    <para>
     <guimenu>시작</guimenu> 화면에서 <guimenu>언어</guimenu> 및 <guimenu>키보드</guimenu>를 선택하고 라이센스 계약에 동의합니다. <guimenu>다음</guimenu>을 눌러 계속합니다.
    </para>
    <para>
     파티션에 이미 설치된 SUSE Linux Enterprise 시스템이 있는지 확인합니다.
    </para>
   </step>
   <step>
    <para>
     <guimenu>업그레이드를 위한 선택</guimenu> 화면에서 업그레이드할 파티션을 선택하고 <guimenu>다음</guimenu>을 클릭합니다.
    </para>
    <para>
     선택한 파티션이 탑재되고 업그레이드할 파티션에서 찾은 리포지토리가 모두 표시됩니다.
    </para>
   </step>
   <step>
    <para>
     <guimenu>이전에 사용된 리포지토리</guimenu> 화면에서 리포지토리의 상태를 조정합니다. 업그레이드 프로세스에 포함할 리포지토리를 활성화하고 더 이상 필요하지 않은 리포지토리는 비활성화합니다. <guimenu>다음</guimenu>을 눌러 계속합니다.
    </para>
   </step>
   <step>
    <para>
     <guimenu>등록</guimenu> 화면에서 업그레이드한 시스템을 지금 등록하거나(등록 날짜를 입력하고 <guimenu>다음</guimenu> 클릭) <guimenu>등록 건너뛰기</guimenu>를 선택합니다. 시스템 등록에 대한 자세한 내용은 <xref linkend="sec.update.registersystem"/>을(를) 참조하십시오.
    </para>
   </step>
   <step>
    <para>
     업그레이드에 대한 <guimenu>설치 설정</guimenu> 특히, <guimenu>업데이트 옵션</guimenu>을 검토합니다. 다음 옵션 중에서 선택하십시오.
    </para>
    <itemizedlist>
     <listitem>
      <para>
       <guimenu>설치된 패키지만 업데이트</guimenu>. 이 경우 최신 SUSE Linux Enterprise 버전과 함께 제공되는 새 기능을 빠뜨릴 수 있습니다.
      </para>
     </listitem>
     <listitem>
      <para>
       <guimenu>새로운 소프트웨어 및 기능 설치와 함께 업데이트</guimenu>. 원하는 대로 패턴 및 패키지를 활성화하거나 비활성화하려면 <guimenu>패턴 선택</guimenu>을 클릭합니다.
      </para>
     </listitem>
    </itemizedlist>

    <note>
     <title>데스크톱 선택</title>
     <para>
      SUSE Linux Enterprise 12로 업그레이드하기 전 KDE를 사용한 경우(<varname>DEFAULT_WM</varname> (<filename>/etc/sysconfig/windowmanager</filename>에 있음)이 <literal>kde*</literal>로 설정됨) 업그레이드 후 데스크톱 환경이 자동으로 GNOME으로 바뀝니다. 기본적으로 KDM 디스플레이 관리자가 GDM으로 바뀝니다.
     </para>
     <para>
      데스크톱 환경 또는 창 관리자 선택을 변경하려면 <guimenu>패턴 선택</guimenu>을 클릭하여 소프트웨어 선택을 조정합니다.
     </para>
    </note>
   </step>
   <step>
    <para>
     모든 설정을 원하는 대로 설정했으면 <guimenu>업데이트</guimenu>를 클릭하여 설치 및 제거 절차를 시작합니다.
    </para>
   </step>
   <step>
    <para>
     업그레이드 프로세스가 성공적으로 끝난 후 <quote>독립 패키지</quote>가 있는지 확인하십시오. 독립 패키지란 더 이상 어떤 활성 리포지토리에도 속하지 않는 패키지를 말합니다. 다음 명령으로 독립 패키지 목록을 볼 수 있습니다.
    </para>
<screen>zypper packages --orphaned</screen>
    <para>
     이 목록을 통해 패키지가 아직 필요한지 또는 제거해도 좋은지 알 수 있습니다.
    </para>
   </step>
  </procedure>
 </sect1>
 <sect1 xml:id="sec.update.sle.manager">
  <title>SUSE Manager를 통한 업데이트</title>

  <para>
   SUSE Manager는 SUSE Linux Enterprise 클라이언트용 업데이트, 패치 및 보안 수정을 제공하기 위한 서버 솔루션입니다. 이 솔루션에는 관리 작업 도구 세트와 웹 기반 사용자 인터페이스가 함께 제공됩니다. SUSE Manager에 대한 자세한 내용은 <link xlink:href="https://www.suse.com/products/suse-manager/"/>를 참조하십시오.
  </para>

  <para>
   SUSE Manager에서는 SP 마이그레이션이나 전체 시스템 업그레이드를 지원할 수 있습니다.
  </para>

  <variablelist>

   <varlistentry>
    <term>SP 마이그레이션</term>
    <listitem>
     <para>
      SP 마이그레이션을 사용하면 주 버전 내에서 다른 SP(서비스 팩)로 마이그레이션할 수 있습니다(예: SLES 12 SP1에서 12 SP2로). 자세한 정보는 <citetitle>SUSE Manager 모범 사례</citetitle>의 <quote>클라이언트 마이그레이션</quote> 장을 참조하십시오.
     </para>
     <para>
       <link xlink:href="https://www.suse.com/documentation/suse-manager/"/>, 버전 3.1 장을 참조하십시오.
     </para>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term>시스템 업그레이드</term>
    <listitem>
     <para>
      SUSE Manager를 사용하여 시스템 업그레이드를 수행할 수 있습니다. 통합 AutoYaST 기술을 사용하여 주 버전을 다음 주 버전으로 업그레이드할 수 있습니다(예: SLES 11 SP3에서 12 SP2로). 자세한 정보는 <citetitle>SUSE Manager 모범 사례</citetitle>의 <quote>클라이언트 마이그레이션</quote>
     </para>
     <para>
      <link xlink:href="https://www.suse.com/documentation/suse-manager/"/>, 버전 3.1 장을 참조하십시오.
     </para>
    </listitem>
   </varlistentry>
  </variablelist>
<para>
  <remark>taroth 2018-09-26: the SUMA docs do not cover migration to
   SLE 12 SP5 yet, therefore removed the specific section title from
   the pointers above and filed https://bugzilla.suse.com/show_bug.cgi?id=1109790
 </remark>
</para>
 </sect1>
 <sect1 xml:id="sec.update.reg.status.after.rollback">
  <title>롤백 후 등록 상태 업데이트</title>

  <para>
   서비스 팩 업그레이드를 수행할 때는 등록 서버의 구성을 변경하여 새 리포지토리에 대한 액세스를 제공해야 합니다. 업그레이드 프로세스가 중단되거나 복구된 경우(백업 또는 스냅샷에서 복원하여) 등록 서버의 정보가 시스템 상태와 일치하지 않습니다. 이로 인해 업데이트된 리포지토리에 액세스할 수 없거나 클라이언트에서 잘못된 리포지토리가 사용될 수 있습니다.
  </para>

  <para>
   스냅퍼를 통해 롤백이 이루어지는 경우 부팅 프로세스 중 올바른 리포지토리에 대한 액세스가 설정되도록 등록 서버에 알림이 전달됩니다. 시스템이 다른 방법으로 복구되었거나 등록 서버와의 통신이 실패할 경우(예: 네트워크 문제로 서버에 액세스할 수 없어서) 다음을 호출하여 클라이언트에서 수동으로 롤백을 트리거하십시오.
  </para>

<screen><command>snapper</command> rollback</screen>

  <para>
   특히 다음을 사용하여 서비스를 새로 고친 후에는 시스템에 올바른 리포지토리가 설정되었는지 항상 확인하는 것이 좋습니다.
  </para>

<screen><command>zypper</command> ref -s</screen>

  <para>
   이 기능은
   <package>rollback-helper</package>
   패키지에서 사용 가능합니다.
  </para>
 </sect1>
 <sect1 xml:id="sec.update.registersystem">


  <title>시스템 등록</title>

  <para>
   설치 중에 등록 단계를 건너뛰었다면 YaST의 <guimenu>제품 등록</guimenu> 모듈을 사용하여 언제든지 시스템을 등록할 수 있습니다.
  </para>

  <para>
   시스템을 등록하면 다음과 같은 이점이 있습니다.
  </para>

  <itemizedlist>
   <listitem>
    <para>
     지원 자격
    </para>
   </listitem>
   <listitem>
    <para>
     보안 업데이트 및 버그 수정 가용성
    </para>
   </listitem>
   <listitem>
    <para>
     SUSE 고객 센터 액세스
    </para>
   </listitem>
  </itemizedlist>

  <procedure>
   <step>
    <para>
     YaST를 시작하고 <menuchoice> <guimenu> 소프트웨어</guimenu>
     <guimenu> 제품 등록</guimenu> </menuchoice> 을 선택하여 <guimenu>등록</guimenu> 대화 상자를 엽니다.
    </para>
   </step>
   <step>
    <para>
     사용자나 조직이 가입을 관리하는 데 사용하는 SUSE 계정과 연결된 <guimenu>전자 메일</guimenu> 주소를 입력하십시오. 아직 SUSE 계정이 없다면 SUSE 고객 센터 홈 페이지(<link xlink:show="new" xlink:href="https://scc.suse.com/"/>)로 이동하여 계정을 생성하십시오.
    </para>
   </step>
   <step>
    <para>
     <guimenu>SUSE Linux Enterprise Server</guimenu>와 함께 받은 <phrase role="productname"><phrase os="sles">등록 코드</phrase></phrase>를 입력하십시오.
    </para>
   </step>
   <step xml:id="step.y2.register.final">
    <para>
     등록을 시작하려면 <guimenu>다음</guimenu>을 눌러 계속합니다. 네트워크에서 하나 이상의 로컬 등록 서버를 사용할 수 있으면 목록에서 로컬 등록 서버를 선택할 수 있습니다. 또는 로컬 등록 서버를 무시하고 기본 SUSE 등록 서버에 등록하려면 <guimenu>취소</guimenu>를 선택합니다.
    </para>
    <para>
     등록 중에 온라인 업데이트 리포지토리가 업그레이드 설정에 추가됩니다. 완료되고 나면 업데이트 리포지토리에서 사용 가능한 최신 패키지 버전을 설치할지 여부를 선택할 수 있습니다. 이를 통해 모든 패키지에 대한 클린 업그레이드 경로를 제공하고, 이용 가능한 최신 보안 업데이트를 통해 <phrase role="productname"><phrase os="sles">SUSE Linux Enterprise Server</phrase></phrase>가 업그레이드되도록 보장할 수 있습니다. <guimenu>아니오</guimenu>를 선택하면 모든 패키지가 설치 미디어에서 설치됩니다. <guimenu>다음</guimenu>을 눌러 계속합니다.
    </para>
    <para>
     성공적으로 등록한 후 YaST에는 시스템에 사용할 수 있는 확장, 추가 기능 및 모듈이 나열됩니다. 이를 선택하고 설치하려면 <xref linkend="sec.add-ons.installation"/>를 계속 진행합니다.
    </para>
   </step>
  </procedure>
 </sect1>

</chapter>
